{"version":3,"sources":["containers/Error.js","containers/FormTitle.js","elements/SingleChoice.js","elements/TextElement.js","elements/MultiChoice.js","elements/Numeric.js","containers/CurrentQuestion.js","containers/FormHeader.js","containers/FormFooter.js","middleware/clearForm.js","containers/Questions.js","transformers/QuestionsTransformer.js","middleware/saveState.js","middleware/submitForm.js","transformers/submitStateTransformer.js","reducers/reducer.js","middleware/getRemoteState.js","components/App.js","index.js"],"names":["Error","props","this","error","length","className","React","Component","FormTitle","tip","step","type","title","style","required","SingleChoice","handleChange","bind","config","variants","currentValue","parent","getCurrentValue","reduce","acc","value","checked","showMyVariant","console","log","undefined","push","forceUpdate","variant","dispatch","includes","event","target","map","name","id","onClick","handleOnClick","htmlFor","custom","onChange","placeholder","getError","TextElement","nameInput","focus","ref","input","MultiChoice","myVariant","Numeric","increment","decrement","CurrentQuestion","state","subscribe","getState","params","contents","currentStep","FormHeader","preventDefault","previousStep","percent","questionNumber","total","sectionNumber","section","dangerouslySetInnerHTML","__html","join","href","FormFooter","submit","clearForm","userId","fetch","window","host","credentials","method","redirect","headers","token","then","response","json","Questions","steps","action","nextStepUrl","questionsTransformer","transformed","commonQuestionsCounter","sectionCounter","i","i2","question","i3","saveState","body","JSON","stringify","submitForm","submitStateTransformer","readyAnswers","stepTitle","stepName","answers","initialState","questions","appReducer","nextStepNumber","location","lastStep","nextStep","predefinedValue","stepNumber","nextStepNumber2","getRemoteState","App","createStore","reducer","stopApp","data","attributes","isLoaded","api","render","document","getElementById"],"mappings":"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","file":"static/js/main.8d109b8b.chunk.js","sourcesContent":["import React from 'react';\n\nclass Error extends React.Component\n{\n    constructor(props)\n    {\n        super(props);\n    }\n\n    render()\n    {\n        if (this.props.error.length < 1) {\n            return <div></div>;\n        }\n\n        return <div className=\"form__text-error active\"><span>!</span>{this.props.error}</div>        ;\n    }\n}\nexport default Error;","import React from 'react';\n\nclass FormTitle extends React.Component\n{\n    constructor(props)\n    {\n        super(props);\n    }\n\n    render()\n    {\n        let tip;\n        if (this.props.step.type === 'numeric') {\n            tip = 'Tip: lick on the number to edit manually';\n        }\n\n        return <div className=\"form__main-title\">\n            <h2>{this.props.step.title}\n            <span style={this.props.step.required ? {} : {'fontSize': '10px'}}>{this.props.step.required ? '*' : '(optional)'}</span>\n            <div style={{'fontSize': '12px', 'color': \"#CCC\"}}>{tip}</div>\n            </h2>\n        </div>;\n    }\n}\nexport default FormTitle;","import React from 'react';\nimport Error from '../containers/Error';\nimport FormTitle from '../containers/FormTitle';\n\nclass SingleChoice extends React.Component\n{ \n    constructor(props)\n    {\n        super(props);\n        this.handleChange=this.handleChange.bind(this);\n\n        const variants = this.props.config.variants;\n        let currentValue = this.props.parent.getCurrentValue();\n        if (currentValue !== null && currentValue.length > 0) {\n            this.props.config.variants = this.props.config.variants.reduce(function (acc, value) {\n                value.checked = (currentValue === value.value);\n                value.showMyVariant = false;\n\n                console.log(value, currentValue);\n                if (value.title !== undefined) {\n                    value.showMyVariant = currentValue === value.value;\n                }\n    \n                acc.push(value);\n                return acc;\n            }, []);\n        }\n        this.forceUpdate();\n    }\n\n    handleOnClick(variant)\n    {\n        if (variant.value !== null) {\n            console.log(this.props);\n            this.props.parent.dispatch({\n                'type': 'submitSingleChoice',\n                'variant': variant,\n                'step': this.props.config,\n            });\n        }\n\n        const variants = this.props.config.variants;\n        this.props.config.variants = this.props.config.variants.reduce(function (acc, value) {\n            if (value.title === variant.title && variant.value === null) {\n                variant.showMyVariant = !variants.reduce(function(acc, value) {\n                    acc.push(value.title);\n                    return acc;\n                }, []).includes(value.value);\n\n                console.log(variant.showMyVariant);\n                acc.push(value);\n                return acc;\n            }\n\n            acc.push(value);\n            return acc;\n        }, []);\n        this.forceUpdate();\n    }\n\n    handleChange(event)\n    {\n        this.props.config.variants = this.props.config.variants.reduce(function (acc, value) {\n            if (value.title!== undefined) {\n                value.value = event.target.value;\n            }\n            acc.push(value);\n            return acc;\n        }, []);\n        this.props.parent.dispatch({'type':'changeCurrentValue' , 'currentValue': event.target.value});\n        this.forceUpdate();\n    }\n\n    render()\n    {\n\n        console.log(this.props.config);\n        return                 <div className=\"form__main\"> <div className=\"form__main-text\">\n            <ul>\n                <li><span>*</span> - Required</li>\n            </ul>\n        </div>\n        <FormTitle step={this.props.config}/>\n        <div className=\"form__group\">\n                <div className=\"from__group-radio\">\n                    \n                       { this.props.config.variants.map((variant) => {\n                           console.log(variant.showMyVariant !== undefined && variant.showMyVariant !== false);\n                            return <div>\n                                <input checked={variant.checked}  type=\"radio\" value={variant.value} name={variant.title} id={variant.title}/>\n                                <label onClick={() => this.handleOnClick(variant)} htmlFor={variant.title}>{variant.custom !== undefined ? variant.title : variant.value}</label>\n                        \n\n                                <input onChange={this.handleChange} value={this.props.parent.getCurrentValue()} style={(variant.showMyVariant !== undefined && variant.showMyVariant !== false) ? {\"display\":'block'} : {'display': 'none'}} type=\"text\" placeholder=\"My variant\"/>\n\n                            </div>\n                        })}\n                    \n                </div>\n\n        </div>\n\n        <Error error={this.props.parent.getError()} />\n\n    </div>\n\n    }\n}\nexport default SingleChoice;","import React from 'react'\nimport Error from '../containers/Error';\nimport FormTitle from '../containers/FormTitle';\n\nclass TextElement extends React.Component\n{ \n    constructor(props)\n    {\n        super(props);\n        this.handleChange=this.handleChange.bind(this);\n    }\n\n    componentDidMount(){\n        this.nameInput.focus();\n      }\n    \n\n    handleChange(event)\n    {\n        this.props.parent.dispatch({'type':'changeCurrentValue' , 'currentValue': event.target.value});\n        this.forceUpdate();\n    }\n\n    render()\n    {\n        return                 <div className=\"form__main\"> <div className=\"form__main-text\">\n            <ul>\n                <li><span>*</span> - Required</li>\n            </ul>\n        </div>\n        <FormTitle step={this.props.config}/>\n\n        <div className=\"form__group\">\n            <input ref={(input) => { this.nameInput = input;  if (input !== null) {input.focus();}}}  type=\"text\" onChange={this.handleChange} placeholder={this.props.config.placeholder} value={this.props.parent.getCurrentValue()}/>\n        </div>\n\n        <Error error={this.props.parent.getError()} />\n    </div>\n\n    }\n}\nexport default TextElement;","import React from 'react'\nimport Error from '../containers/Error';\nimport FormTitle from '../containers/FormTitle';\n\nclass MultiChoice extends React.Component\n{ \n    myVariant;\n\n    constructor(props)\n    {\n        super(props);\n        this.handleChange=this.handleChange.bind(this);\n\n    }\n\n    handleChange(event)\n    {\n        this.props.config.variants = this.props.config.variants.reduce(function (acc, value) {\n            if (value.title !== undefined && value.custom) {\n                value.value = event.target.value;\n            }\n            acc.push(value);\n            return acc;\n        }, []);\n        this.forceUpdate();\n    }\n\n\n    handleOnClick(variant)\n    {\n        let currentValue = [];\n\n        this.props.config.variants = this.props.config.variants.reduce((acc, value) => {\n            if (variant.value === value.value && value.checked) {\n                if (variant.custom) {\n                    this.myVariant = '';\n                    variant.showMyVariant = false;\n                }\n\n                value.checked=0;\n                acc.push(value);\n                return acc;\n            }\n\n            if (value.checked) {\n                currentValue.push(value.value);\n            }\n\n            if (variant.value === value.value) {\n                value.checked=1;\n                if(value.custom !== undefined && value.custom && variant.custom && value.checked) {\n                    value.showMyVariant = true;\n                }\n\n                currentValue.push(value.value);\n                acc.push(value);\n                return acc;\n            }\n\n\n            acc.push(value);\n            return acc;\n        }, []);\n\n\n        console.log(currentValue);\n        this.props.parent.dispatch({'type':'changeCurrentValue' , 'currentValue': currentValue});\n        this.forceUpdate();\n    }\n\n    render()\n    {\n\n        console.log(this.props.config);\n        return                 <div className=\"form__main\"> <div className=\"form__main-text\">\n            <ul>\n                <li><span>*</span> - Required</li>\n            </ul>\n        </div>\n\n        <FormTitle step={this.props.config}/>\n\n\n        <div className=\"form__group\">\n                \n                    \n                       { this.props.config.variants.map((variant) => {\n                            return <div className=\"from__group-radio\">\n                                <input  checked={variant.checked}  type=\"checkbox\" value={variant.value} name={variant.title} id={variant.value}/>\n                                <label onClick={() => this.handleOnClick(variant)} htmlFor={variant.title}>{variant.custom !== undefined ? variant.title : variant.value}</label>\n                                <input onChange={this.handleChange} value={variant.value ?? ''} style={(variant.showMyVariant !== undefined && variant.showMyVariant !== false) ? {\"display\":'block'} : {'display': 'none'}} type=\"text\" placeholder=\"My variant\"/>\n\n                        \n                            </div>\n                        })}\n                    \n                </div>\n                <Error error={this.props.parent.getError()} />\n\n    </div>\n\n    }\n}\nexport default MultiChoice;","import React from 'react';\nimport Error from '../containers/Error';\nimport FormTitle from '../containers/FormTitle';\n\n\nclass Numeric extends React.Component\n{\n    constructor(props)\n    {\n        super(props);\n        this.handleChange = this.handleChange.bind(this);\n        this.increment = this.increment.bind(this);\n        this.decrement = this.decrement.bind(this);\n\n    }\n\n    // componentDidMount(){\n    //     this.nameInput.focus();\n    // }\n\n    handleChange(event)\n    {\n        this.props.parent.dispatch({'type':'changeCurrentValue' , 'currentValue': event.target.value});\n        this.forceUpdate();\n    }\n\n    increment()\n    {\n        this.props.parent.dispatch({'type':'changeCurrentValue' , 'currentValue': this.props.parent.getCurrentValue() + 1});\n        this.forceUpdate();\n    }\n\n    decrement()\n    {\n        let value = this.props.parent.getCurrentValue();\n        if (value <= 0) {\n            return;\n        }\n\n        this.props.parent.dispatch({'type':'changeCurrentValue' , 'currentValue': value - 1});\n        this.forceUpdate();\n    }\n\n    render()\n    {\n        return        <div>    \n            \n            <FormTitle step={this.props.config}/>\n                    <div className=\"form__group form__group--calc\">\n        <button className=\"form__btn-calc\"onClick={this.decrement}  type=\"button\">-</button>\n        <input  ref={(input) => { this.nameInput = input;  if (input !== null) {input.focus();}}}  className=\"form__input-calc\" type=\"text\" onChange={this.handleChange} value={this.props.parent.getCurrentValue()}/>\n        <button className=\"form__btn-calc\" onClick={this.increment} type=\"button\">+</button>\n     </div>\n     \n     <Error error={this.props.parent.getError()} />\n\n     \n     </div>;\n    }\n\n}\nexport default Numeric;","import React from 'react';\nimport SingleChoice from '../elements/SingleChoice';\nimport TextElement from '../elements/TextElement';\nimport MultiChoice from '../elements/MultiChoice';\nimport Numeric from '../elements/Numeric';\n\nclass CurrentQuestion extends React.Component {\n    value;\n\n    constructor(props)\n    {\n        super(props);\n        this.value = '';\n\n        this.props.state.subscribe(() => this.props.state.getState());\n    }\n\n    render(params) {\n        let currentStep = this.props.step;\n        let contents;\n\n        switch(currentStep.type) {\n            case 'input': \n                contents = <TextElement config={currentStep} parent={this}/>\n                break;\n            case 'single-choice': \n                contents = <SingleChoice config={currentStep} parent={this}/>\n                break;\n            case 'multiple-choice': \n                contents = <MultiChoice config={currentStep} parent={this}/>\n                break;    \n             case 'numeric': \n                contents = <Numeric config={currentStep} parent={this}/>\n                break;    \n\n            default:    \n        }\n\n        return <div>\n            {contents}\n        </div>\n    }\n\n\n    getError()\n    {\n        return this.props.state.getState().error;\n    }\n\n\n    dispatch(params) {\n        this.props.state.dispatch(params);\n    }\n\n    getCurrentValue() {\n        return this.props.state.getState().currentValue;\n    }\n}\n\nexport default CurrentQuestion;","import React from 'react';\n\nclass FormHeader extends React.Component\n{\n    constructor(props)\n    {\n        super(props);\n    }\n\n    previousStep(event)\n    {\n        event.preventDefault();\n        this.props.parent.previousStep();\n        return false;\n    }\n\n    render()\n    {\n        console.log(this.props.step);\n\n        let percent = ((this.props.step.questionNumber/this.props.step.total) * 100);\n        if (this.props.step.questionNumber === 1) {\n            percent = 0;\n        }\n\n        return <div className=\"form__header\">\n        <div className=\"form__header-title\">\n            <h3>Step {this.props.step.sectionNumber}:<span>{this.props.step.section}</span>\n            \n            </h3>\n        </div>\n\n\n        <style dangerouslySetInnerHTML={{\n  __html: [\n     '.form__header-line:before {',\n     '  width: ' + percent + '%',\n     '}'\n    ].join('\\n')\n  }}>\n</style>\n\n        <div className=\"form__header-line\"></div>\n        <div className=\"form__header-bottom\">\n            <a className=\"form__arrow active\" href=\"#\" onClick={this.previousStep.bind(this)}>back</a>\n            <div className=\"from__header-number\"><span>{this.props.step.questionNumber}</span>/{this.props.step.total}</div>\n        </div>\n    </div>;\n    }\n}\nexport default FormHeader;\n","import React from 'react';\n\nclass FormFooter extends React.Component\n{\n    constructor(props)\n    {\n        super(props);\n    }\n\n    submit(event)\n    {\n        event.preventDefault();\n        this.props.parent.submit(this.props.parent.value);\n        return false;\n    }\n\n    clearForm(event)\n    {\n        event.preventDefault();\n        this.props.parent.clearForm();\n    }\n\n    render()\n    {\n        return                 <div  className=\"form__footer\">\n\n        <a className=\"form__footer-text\" onClick={this.clearForm.bind(this)} href=\"#\" style={{'color': 'red'}}>Clear all answers</a>\n        <a className=\"form__btn\" onClick={this.submit.bind(this)}>Next</a>\n        </div>;\n    }\n}\nexport default FormFooter;","export function clearForm(type, userId)\n{\n  return fetch(window.host + '/launch-api/api/state-store/'+ userId + '/'+type , {\n    credentials: 'include',\n    method: 'DELETE',                                                              \n    'mode': 'cors',\n    redirect: 'follow',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'Authorization':  window.token,\n    },  \n  }).then(response => response.json())\n};\n\nexport default clearForm;","import React from 'react';\nimport CurrentQuestion from '../containers/CurrentQuestion';\nimport FormHeader from '../containers/FormHeader';\nimport FormFooter from '../containers/FormFooter';\nimport clearForm from '../middleware/clearForm';\n\nclass Questions extends React.Component {\n\n    currentStep;\n\n    constructor(props)\n    {\n        super(props);\n        this.props.state.subscribe(() => this.props.state.getState());\n\n    }\n\n    render(params) {\n        const store = this.props.state;\n        store.subscribe(() => {\n            this.forceUpdate();\n        });\n        \n\n        let questionsList = window.config;\n        let currentStep = this.props.state.getState().steps[this.props.state.getState().currentStep];\n        this.currentStep = currentStep;\n        console.log(currentStep);\n\n\n        return <div className=\"form\" action=\"/\" method=\"POST\">\n            <FormHeader step={currentStep} parent={this}/>\n            <CurrentQuestion state={this.props.state} step={currentStep}/>\n            <FormFooter step={currentStep} parent={this} state={this.props.state}/>\n            <a href={window.config.nextStepUrl} className=\"form__footer-text\" style={{'maxWidth': \"120px\"}}>Fill the form later</a>\n\n        </div>\n    }\n\n    clearForm()\n    {\n        this.props.state.dispatch({'type': 'load'});\n        this.forceUpdate();\n        clearForm('form', window.userId).then(() =>  {\n            this.props.state.dispatch({'type': 'clear'});\n            this.forceUpdate();\n        });\n    }\n\n    previousStep()\n    {\n        this.props.state.dispatch({ type: 'previousStep' });\n    }\n\n    submit(value)\n    {\n        this.props.state.dispatch({ type: 'nextStep', 'step': this.currentStep, value: value});\n    }\n}\n\nexport default Questions;","function questionsTransformer(steps)\n{\n    let transformed = [];\n\n    let commonQuestionsCounter = 0;\n    let sectionCounter = 0;\n\n    for (let i in steps) {\n        sectionCounter ++;\n        for(let i2 in steps[i]['questions']) {\n            commonQuestionsCounter ++;\n            let question = steps[i]['questions'][i2];\n            question.section = steps[i].title;\n            question.questionNumber = commonQuestionsCounter;\n            question.sectionNumber = sectionCounter;\n\n            transformed.push(question);\n        }\n    }\n\n    let total = transformed.length;\n    for (let i3 in transformed) {\n        transformed[i3].total = total;\n    }\n\n    return transformed;\n}\n\nexport default questionsTransformer;\n","export function saveState(type, userId, state)\n{\n  return fetch(window.host + '/launch-api/api/state-store', {\n    credentials: 'include',\n    method: 'PATCH',                                                              \n    'mode': 'cors',\n    redirect: 'follow',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'Authorization':  window.token,\n    },\n    body: JSON.stringify( {\n      'data' : {\n        'type': 'state_stores',\n        'id': 'new',\n        'attributes': {\n          'type': type,\n          'state': state,\n        },\n        'relationships': {\n          'user': {\n            'data' : {\n              'id': userId,\n              'type': 'users',\n            }\n          }\n        }\n      }\n\n    } )  \n  }).then(response => response.json())\n};\n\nexport default saveState;","export function submitForm(userId, body)\n{\n  return fetch(window.host + '/formSubmit' , {\n    credentials: 'include',\n    method: 'POST',                                                              \n    'mode': 'cors',\n    redirect: 'follow',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'Authorization':  window.token,\n    },  \n    'body': JSON.stringify(body),\n  }).then(response => response.json())\n};\n\nexport default submitForm;","function submitStateTransformer(state)\n{\n    let readyAnswers = {};\n    for (let i in state.steps)\n    {\n        let stepTitle = state.steps[i]['title'];\n        let stepName = state.steps[i]['name'];\n\n        readyAnswers[stepName] = {\n            'title': stepTitle,\n            'name': stepName,\n            'value': state.answers[i],\n            'stepNumber': i,\n        };\n    }\n\n    return readyAnswers;\n}\n\nexport default submitStateTransformer;\n","import questionsTransformer from \"../transformers/QuestionsTransformer\";\nimport saveState from \"../middleware/saveState\";\nimport submitForm from \"../middleware/submitForm\";\nimport submitStateTransformer from \"../transformers/submitStateTransformer\";\n\nconst initialState = {\n    'currentStep': 0,\n    'steps': questionsTransformer(window.config.questions.steps),\n    'answers': [],\n    'currentValue': '',\n    'error': '',\n    'isLoaded': false,\n};\n  \n  // Use the initialState as a default value\n  export default function appReducer(state = initialState, action) {\n\n    const initialState = {\n        'currentStep': 0,\n        'steps': questionsTransformer(window.config.questions.steps),\n        'answers': [],\n        'currentValue': '',\n        'error': '',\n        'isLoaded': false,\n    };\n      \n    let step;\n\n    switch (action.type) {\n        case 'reload':\n            return {...action.state, 'isLoaded': true};\n        break;    \n        case 'load':\n                return {...state, 'isLoaded': false};\n        break;\n        case 'clear':\n            return {...initialState, 'isLoaded': true};\n        break;\n        case 'ready':\n            return {...state, 'isLoaded': true};\n        break;\n        case \"nextStep\":\n\n            step = state.steps[state.currentStep];\n\n            state.currentValue = state.currentValue === undefined ||  state.currentValue === null ? '' : state.currentValue;\n            if (step.required && (state.currentValue.length < 1) && ['input', 'single-choice'].includes(step.type)) {\n                return {...state, currentStep: state.currentStep, error: 'This field is required'};\n            }\n\n            console.log(step.required, step.type === 'multiple-choice', state.currentValue, state.currentValue.length);\n            if (step.required && step.type === 'multiple-choice' && (state.currentValue === null || state.currentValue.length === 0)) {\n                return {...state, currentStep: state.currentStep, error: 'This field is required'};\n            }\n\n            if (step.required && step.type === 'numeric' && state.currentValue === 0) {\n                return {...state, currentStep: state.currentStep, error: 'This field is required'};\n            }\n\n            let nextStepNumber = state.currentStep + 1;\n            console.log(nextStepNumber, state.currentStep, state);\n\n            if (nextStepNumber === step.total) {\n                submitForm(window.userId, submitStateTransformer(state)).then(() => {\n                    window.location.href = window.config.lastStep;\n                });\n                return {...state, 'isLoaded': false, 'stopApp': true};\n            }\n\n            let nextStep = state.steps[nextStepNumber];\n            state.answers[state.currentStep] = state.currentValue;\n\n\n            if(state.answers[nextStepNumber] === undefined) {\n                state.currentValue = {\n                    'input' : '',\n                    'single-choice' : [],\n                    'multiple-choice': [],\n                    'numeric': step.predefinedValue !== undefined ? step.predefinedValue : 0,\n                }[nextStep.type];    \n                console.log('set up empty value');\n\n            }\n\n\n            state = {...state, currentStep: nextStepNumber, error: ''};\n            saveState('form', window.userId, state);\n            return state;\n        case \"previousStep\":\n                if (state.currentStep === 0) {\n                    return state;\n                }\n                let stepNumber = state.currentStep - 1;\n\n                return {...state, currentStep: stepNumber, currentValue: state.answers[stepNumber], error: ''};\n        break;\n        case 'changeCurrentValue':\n                state =  {...state, currentValue: action.currentValue};\n                return state;\n        break;\n        case 'submitSingleChoice':\n            state.answers[state.currentStep] = action.variant.value;\n\n            step = state.steps[state.currentStep];\n\n            state =  {\n                ...state,\n                currentStep: state.currentStep + 1,\n                error: '',\n            };\n            let nextStepNumber2 = state.currentStep + 1;\n            console.log(nextStepNumber2, step.total);\n            if (nextStepNumber2 === step.total) {\n                submitForm(window.userId, submitStateTransformer(state)).then(() => {\n                    window.location.href = window.config.lastStep;\n                });\n                return {...state, 'isLoaded': false, 'stopApp': true};\n            }\n\n\n            saveState('form', window.userId, state);\n            return state;\n        break;\n        default:\n        // If this reducer doesn't recognize the action type, or doesn't\n        // care about this specific action, return the existing state unchanged\n        return state\n    }\n  }\n","export function getRemoteState(type, userId)\n{\n  return fetch(window.host + '/launch-api/api/state-store/'+ userId + '/'+type , {\n    credentials: 'include',\n    method: 'GET',                                                              \n    'mode': 'cors',\n    redirect: 'follow',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'Authorization':  window.token,\n    }\n    }).then(response => response.json())\n};\n\nexport default getRemoteState;","import React from 'react'\nimport Questions from '../containers/Questions';\nimport reducer from '../reducers/reducer';\nimport { createStore } from 'redux';\nimport getRemoteState from '../middleware/getRemoteState';\n\n\n\nclass App extends React.Component {\n    initialState = {};\n\n    constructor(props)\n    {\n        super(props);\n        this.state = createStore(reducer);\n        this.state.subscribe(() => {\n            this.forceUpdate();\n        });\n\n        if (this.state.getState().stopApp) {\n            return ;\n        }\n        \n        getRemoteState('form', window.userId).then(\n            response => {\n                if (typeof response.data === 'undefined') {\n                    this.state.dispatch({type: 'ready'});\n                    this.forceUpdate();\n                    return ;\n                }\n\n                this.state.dispatch({type: 'reload', 'state': response.data.attributes.state})\n                this.forceUpdate();\n            }\n        );\n\n    }\n\n    render() {\n        if (!this.state.getState().isLoaded) {\n            return             <div className=\"wait-spinner\">\n            <div className=\"lds-roller\">\n              <div></div>\n              <div></div>\n              <div></div>\n              <div></div>\n              <div></div>\n              <div></div>\n              <div></div>\n              <div></div>\n            </div>\n          </div>\n;\n        }\n\n\n        return (\n            <div>\n                <Questions state={this.state} parent={this}/>\n          </div>        \n        );\n    }\n}\n\n\nexport default App\n","import React from 'react'\nimport { render } from 'react-dom'\nimport App from './components/App'\n\nif (!window.api) {\n  window.api = 'http://localhost:904/api/v1/';\n}\n\nrender(\n  <App />,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}