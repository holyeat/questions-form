{"version":3,"sources":["containers/Error.js","elements/SingleChoice.js","elements/TextElement.js","elements/MultiChoice.js","elements/Numeric.js","containers/CurrentQuestion.js","containers/FormHeader.js","containers/FormFooter.js","middleware/clearForm.js","containers/Questions.js","transformers/QuestionsTransformer.js","middleware/saveState.js","reducers/reducer.js","middleware/getRemoteState.js","components/App.js","index.js"],"names":["Error","props","this","error","length","className","React","Component","SingleChoice","handleChange","bind","config","variants","currentValue","parent","getCurrentValue","reduce","acc","value","checked","showMyVariant","console","log","undefined","title","push","forceUpdate","variant","dispatch","includes","event","target","required","map","type","name","id","onClick","handleOnClick","htmlFor","custom","onChange","style","placeholder","getError","TextElement","MultiChoice","Numeric","increment","decrement","CurrentQuestion","state","subscribe","getState","params","contents","currentStep","step","FormHeader","preventDefault","previousStep","percent","questionNumber","total","sectionNumber","section","dangerouslySetInnerHTML","__html","join","href","FormFooter","submit","clearForm","userId","fetch","window","host","credentials","method","redirect","headers","token","then","response","json","Questions","steps","action","nextStepUrl","questionsTransformer","transformed","commonQuestionsCounter","sectionCounter","i","i2","question","i3","saveState","body","JSON","stringify","initialState","questions","appReducer","answers","stepNumber","getRemoteState","App","createStore","reducer","data","attributes","isLoaded","api","render","document","getElementById"],"mappings":"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","file":"static/js/main.9998d77b.chunk.js","sourcesContent":["import React from 'react';\n\nclass Error extends React.Component\n{\n    constructor(props)\n    {\n        super(props);\n    }\n\n    render()\n    {\n        if (this.props.error.length < 1) {\n            return <div></div>;\n        }\n\n        return <div className=\"form__text-error active\"><span>!</span>{this.props.error}</div>        ;\n    }\n}\nexport default Error;","import React from 'react';\nimport Error from '../containers/Error';\n\nclass SingleChoice extends React.Component\n{ \n    constructor(props)\n    {\n        super(props);\n        this.handleChange=this.handleChange.bind(this);\n\n        const variants = this.props.config.variants;\n        let currentValue = this.props.parent.getCurrentValue();\n        if (currentValue !== null && currentValue.length > 0) {\n            this.props.config.variants = this.props.config.variants.reduce(function (acc, value) {\n                value.checked = (currentValue === value.value);\n                value.showMyVariant = false;\n\n                console.log(value, currentValue);\n                if (value.title !== undefined) {\n                    value.showMyVariant = currentValue === value.value;\n                }\n    \n                acc.push(value);\n                return acc;\n            }, []);\n        }\n        this.forceUpdate();\n    }\n\n    handleOnClick(variant)\n    {\n        if (variant.value !== null) {\n            console.log(this.props);\n            this.props.parent.dispatch({\n                'type': 'submitSingleChoice',\n                'variant': variant,\n                'step': this.props.config,\n            });\n        }\n\n        const variants = this.props.config.variants;\n        this.props.config.variants = this.props.config.variants.reduce(function (acc, value) {\n            if (value.title === variant.title && variant.value === null) {\n                variant.showMyVariant = !variants.reduce(function(acc, value) {\n                    acc.push(value.title);\n                    return acc;\n                }, []).includes(value.value);\n\n                console.log(variant.showMyVariant);\n                acc.push(value);\n                return acc;\n            }\n\n            acc.push(value);\n            return acc;\n        }, []);\n        this.forceUpdate();\n    }\n\n    handleChange(event)\n    {\n        this.props.config.variants = this.props.config.variants.reduce(function (acc, value) {\n            if (value.title!== undefined) {\n                value.value = event.target.value;\n            }\n            acc.push(value);\n            return acc;\n        }, []);\n        this.props.parent.dispatch({'type':'changeCurrentValue' , 'currentValue': event.target.value});\n        this.forceUpdate();\n    }\n\n    render()\n    {\n\n        console.log(this.props.config);\n        return                 <div className=\"form__main\"> <div className=\"form__main-text\">\n            <ul>\n                <li><span>*</span> - Required</li>\n            </ul>\n        </div>\n        <div className=\"form__main-title\">\n            <h2>{this.props.config.title}\n            \n            <span>{this.props.config.required ? '*' : ''}</span>\n\n            </h2>\n        </div>\n        <div className=\"form__group\">\n                <div className=\"from__group-radio\">\n                    \n                       { this.props.config.variants.map((variant) => {\n                           console.log(variant.showMyVariant !== undefined && variant.showMyVariant !== false);\n                            return <div>\n                                <input checked={variant.checked}  type=\"radio\" value={variant.value} name={variant.title} id={variant.title}/>\n                                <label onClick={() => this.handleOnClick(variant)} htmlFor={variant.title}>{variant.custom !== undefined ? variant.title : variant.value}</label>\n                        \n\n                                <input onChange={this.handleChange} value={this.props.parent.getCurrentValue()} style={(variant.showMyVariant !== undefined && variant.showMyVariant !== false) ? {\"display\":'block'} : {'display': 'none'}} type=\"text\" placeholder=\"My variant\"/>\n\n                            </div>\n                        })}\n                    \n                </div>\n\n        </div>\n\n        <Error error={this.props.parent.getError()} />\n\n    </div>\n\n    }\n}\nexport default SingleChoice;","import React from 'react'\nimport Error from '../containers/Error';\n\nclass TextElement extends React.Component\n{ \n    constructor(props)\n    {\n        super(props);\n        this.handleChange=this.handleChange.bind(this);\n    }\n\n    handleChange(event)\n    {\n        this.props.parent.dispatch({'type':'changeCurrentValue' , 'currentValue': event.target.value});\n        this.forceUpdate();\n    }\n\n    render()\n    {\n        return                 <div className=\"form__main\"> <div className=\"form__main-text\">\n            <ul>\n                <li><span>*</span> - Required</li>\n            </ul>\n        </div>\n        <div className=\"form__main-title\">\n            <h2>{this.props.config.title}\n            <span>{this.props.config.required ? '*' : ''}</span>\n\n            \n            </h2>\n        </div>\n        <div className=\"form__group\">\n            <input type=\"text\" onChange={this.handleChange} placeholder={this.props.config.placeholder} value={this.props.parent.getCurrentValue()}/>\n        </div>\n\n        <Error error={this.props.parent.getError()} />\n    </div>\n\n    }\n}\nexport default TextElement;","import React from 'react'\nimport Error from '../containers/Error';\n\nclass MultiChoice extends React.Component\n{ \n    constructor(props)\n    {\n        super(props);\n    }\n\n    handleOnClick(variant)\n    {\n        let currentValue = [];\n        this.props.config.variants = this.props.config.variants.reduce(function (acc, value) {\n\n            if (variant.value === value.value && value.checked) {\n                value.checked=0;\n                acc.push(value);\n                return acc;\n            }\n\n            if (variant.checked) {\n                currentValue.push(value.value);\n            }\n\n            if (variant.value === value.value && !value.checked) {\n                value.checked=1;\n                acc.push(value);\n                return acc;\n            }\n\n            acc.push(value);\n            return acc;\n        }, []);\n\nconsole.log(currentValue);\n\n        this.props.parent.dispatch({'type':'changeCurrentValue' , 'currentValue': currentValue});\n        this.forceUpdate();\n    }\n\n    render()\n    {\n\n        console.log(this.props.config);\n        return                 <div className=\"form__main\"> <div className=\"form__main-text\">\n            <ul>\n                <li><span>*</span> - Required</li>\n            </ul>\n        </div>\n        <div className=\"form__main-title\">\n            <h2>{this.props.config.title}\n            <span>{this.props.config.required ? '*' : ''}</span>\n            \n            </h2>\n        </div>\n        <div className=\"form__group\">\n                \n                    \n                       { this.props.config.variants.map((variant) => {\n                            return <div className=\"from__group-radio\">\n                                <input  checked={variant.checked}  type=\"checkbox\" value={variant.value} name={variant.title} id={variant.value}/>\n                                <label onClick={() => this.handleOnClick(variant)} htmlFor={variant.value}>{variant.value}</label>\n                        \n                            </div>\n                        })}\n                    \n                </div>\n                <Error error={this.props.parent.getError()} />\n\n    </div>\n\n    }\n}\nexport default MultiChoice;","import React from 'react';\nimport Error from '../containers/Error';\n\n\nclass Numeric extends React.Component\n{\n    constructor(props)\n    {\n        super(props);\n        this.handleChange = this.handleChange.bind(this);\n        this.increment = this.increment.bind(this);\n        this.decrement = this.decrement.bind(this);\n\n        let currentValue = this.props.parent.getCurrentValue() > 0 ? this.props.parent.getCurrentValue() : 0;\n        this.props.parent.dispatch({'type':'changeCurrentValue' , 'currentValue': currentValue});\n        this.forceUpdate();\n    }\n\n    handleChange(event)\n    {\n        this.props.parent.dispatch({'type':'changeCurrentValue' , 'currentValue': event.target.value});\n        this.forceUpdate();\n    }\n\n    increment()\n    {\n        this.props.parent.dispatch({'type':'changeCurrentValue' , 'currentValue': this.props.parent.getCurrentValue() + 1});\n        this.forceUpdate();\n    }\n\n    decrement()\n    {\n        let value = this.props.parent.getCurrentValue();\n        if (value <= 0) {\n            return;\n        }\n\n        this.props.parent.dispatch({'type':'changeCurrentValue' , 'currentValue': value - 1});\n        this.forceUpdate();\n    }\n\n    render()\n    {\n        return        <div>        \n        <div className=\"form__main-title\">\n        <h2>{this.props.config.title}\n        <span>{this.props.config.required ? '*' : ''}</span>\n\n        \n        </h2>\n    </div>\n\n        <div className=\"form__group form__group--calc\">\n        <button className=\"form__btn-calc\"onClick={this.decrement}  type=\"button\">-</button>\n        <input className=\"form__input-calc\" type=\"text\" onChange={this.handleChange} value={this.props.parent.getCurrentValue()}/>\n        <button className=\"form__btn-calc\" onClick={this.increment} type=\"button\">+</button>\n     </div>\n     \n     <Error error={this.props.parent.getError()} />\n\n     \n     </div>;\n    }\n\n}\nexport default Numeric;","import React from 'react';\nimport SingleChoice from '../elements/SingleChoice';\nimport TextElement from '../elements/TextElement';\nimport MultiChoice from '../elements/MultiChoice';\nimport Numeric from '../elements/Numeric';\n\nclass CurrentQuestion extends React.Component {\n    value;\n\n    constructor(props)\n    {\n        super(props);\n        this.value = '';\n\n        this.props.state.subscribe(() => this.props.state.getState());\n    }\n\n    render(params) {\n        let currentStep = this.props.step;\n        let contents;\n\n        switch(currentStep.type) {\n            case 'input': \n                contents = <TextElement config={currentStep} parent={this}/>\n                break;\n            case 'single-choice': \n                contents = <SingleChoice config={currentStep} parent={this}/>\n                break;\n            case 'multiple-choice': \n                contents = <MultiChoice config={currentStep} parent={this}/>\n                break;    \n             case 'numeric': \n                contents = <Numeric config={currentStep} parent={this}/>\n                break;    \n\n            default:    \n        }\n\n        return <div>\n            {contents}\n        </div>\n    }\n\n\n    getError()\n    {\n        return this.props.state.getState().error;\n    }\n\n\n    dispatch(params) {\n        this.props.state.dispatch(params);\n    }\n\n    getCurrentValue() {\n        return this.props.state.getState().currentValue;\n    }\n}\n\nexport default CurrentQuestion;","import React from 'react';\n\nclass FormHeader extends React.Component\n{\n    constructor(props)\n    {\n        super(props);\n    }\n\n    previousStep(event)\n    {\n        event.preventDefault();\n        this.props.parent.previousStep();\n        return false;\n    }\n\n    render()\n    {\n        console.log(this.props.step);\n\n        let percent = ((this.props.step.questionNumber/this.props.step.total) * 100);\n        if (this.props.step.questionNumber === 1) {\n            percent = 0;\n        }\n\n        return <div className=\"form__header\">\n        <div className=\"form__header-title\">\n            <h3>Step {this.props.step.sectionNumber}:<span>{this.props.step.section}</span>\n            \n            </h3>\n        </div>\n\n\n        <style dangerouslySetInnerHTML={{\n  __html: [\n     '.form__header-line:before {',\n     '  width: ' + percent + '%',\n     '}'\n    ].join('\\n')\n  }}>\n</style>\n\n        <div className=\"form__header-line\"></div>\n        <div className=\"form__header-bottom\">\n            <a className=\"form__arrow active\" href=\"#\" onClick={this.previousStep.bind(this)}>back</a>\n            <div className=\"from__header-number\"><span>{this.props.step.questionNumber}</span>/{this.props.step.total}</div>\n        </div>\n    </div>;\n    }\n}\nexport default FormHeader;\n","import React from 'react';\n\nclass FormFooter extends React.Component\n{\n    constructor(props)\n    {\n        super(props);\n    }\n\n    submit()\n    {\n        \n        this.props.parent.submit(this.props.parent.value);\n    }\n\n    clearForm(event)\n    {\n        event.preventDefault();\n        this.props.parent.clearForm();\n    }\n\n    render()\n    {\n        return                 <div  className=\"form__footer\">\n\n        <a className=\"form__footer-text\" onClick={this.clearForm.bind(this)} href=\"#\" style={{'color': 'red'}}>Clear all answers</a>\n        <a className=\"form__btn\" onClick={this.submit.bind(this)}>Next</a>\n        </div>;\n    }\n}\nexport default FormFooter;","export function clearForm(type, userId)\n{\n  return fetch(window.host + '/launch-api/internal/api/state-store/'+ userId + '/'+type , {\n    credentials: 'include',\n    method: 'DELETE',                                                              \n    'mode': 'cors',\n    redirect: 'follow',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'Authorization':  window.token,\n    },  \n  }).then(response => response.json())\n};\n\nexport default clearForm;","import React from 'react';\nimport CurrentQuestion from '../containers/CurrentQuestion';\nimport FormHeader from '../containers/FormHeader';\nimport FormFooter from '../containers/FormFooter';\nimport clearForm from '../middleware/clearForm';\n\nclass Questions extends React.Component {\n\n    currentStep;\n\n    constructor(props)\n    {\n        super(props);\n        this.props.state.subscribe(() => this.props.state.getState());\n\n    }\n\n    render(params) {\n        const store = this.props.state;\n        store.subscribe(() => {\n            this.forceUpdate();\n        });\n        \n\n        let questionsList = window.config;\n        let currentStep = this.props.state.getState().steps[this.props.state.getState().currentStep];\n        this.currentStep = currentStep;\n        console.log(currentStep);\n\n\n        return <div className=\"form\" action=\"/\" method=\"POST\">\n            <FormHeader step={currentStep} parent={this}/>\n            <CurrentQuestion state={this.props.state} step={currentStep}/>\n            <FormFooter step={currentStep} parent={this} state={this.props.state}/>\n            <a href={window.config.nextStepUrl} className=\"form__footer-text\" style={{'maxWidth': \"120px\"}}>Fill the form later</a>\n\n        </div>\n    }\n\n    clearForm()\n    {\n        this.props.state.dispatch({'type': 'load'});\n        this.forceUpdate();\n        clearForm('form', window.userId).then(() =>  {\n            this.props.state.dispatch({'type': 'clear'});\n            this.forceUpdate();\n        });\n    }\n\n    previousStep()\n    {\n        this.props.state.dispatch({ type: 'previousStep' });\n    }\n\n    submit(value)\n    {\n        this.props.state.dispatch({ type: 'nextStep', 'step': this.currentStep, value: value});\n    }\n}\n\nexport default Questions;","function questionsTransformer(steps)\n{\n    let transformed = [];\n\n    let commonQuestionsCounter = 0;\n    let sectionCounter = 0;\n\n    for (let i in steps) {\n        sectionCounter ++;\n        for(let i2 in steps[i]['questions']) {\n            commonQuestionsCounter ++;\n            let question = steps[i]['questions'][i2];\n            question.section = steps[i].title;\n            question.questionNumber = commonQuestionsCounter;\n            question.sectionNumber = sectionCounter;\n\n            transformed.push(question);\n        }\n    }\n\n    let total = transformed.length;\n    for (let i3 in transformed) {\n        transformed[i3].total = total;\n    }\n\n    return transformed;\n}\n\nexport default questionsTransformer;\n","export function saveState(type, userId, state)\n{\n  return fetch(window.host + '/launch-api/internal/api/state-store', {\n    credentials: 'include',\n    method: 'PATCH',                                                              \n    'mode': 'cors',\n    redirect: 'follow',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'Authorization':  window.token,\n    },\n    body: JSON.stringify( {\n      'data' : {\n        'type': 'state_stores',\n        'id': 'new',\n        'attributes': {\n          'type': type,\n          'state': state,\n        },\n        'relationships': {\n          'user': {\n            'data' : {\n              'id': userId,\n              'type': 'users',\n            }\n          }\n        }\n      }\n\n    } )  \n  }).then(response => response.json())\n};\n\nexport default saveState;","import questionsTransformer from \"../transformers/QuestionsTransformer\";\nimport saveState from \"../middleware/saveState\";\n\nconst initialState = {\n    'currentStep': 0,\n    'steps': questionsTransformer(window.config.questions.steps),\n    'answers': [],\n    'currentValue': '',\n    'error': '',\n    'isLoaded': false,\n};\n  \n  // Use the initialState as a default value\n  export default function appReducer(state = initialState, action) {\n\n    const initialState = {\n        'currentStep': 0,\n        'steps': questionsTransformer(window.config.questions.steps),\n        'answers': [],\n        'currentValue': '',\n        'error': '',\n        'isLoaded': false,\n    };\n      \n    \n\n    switch (action.type) {\n        case 'reload':\n            return {...state, 'isLoaded': true};\n        break;    \n        case 'load':\n                return {...state, 'isLoaded': false};\n        break;\n        case 'clear':\n            return {...initialState, 'isLoaded': true};\n        break;\n        case 'ready':\n            return {...state, 'isLoaded': true};\n        break;\n        case \"nextStep\":\n\n            let step = state.steps[state.currentStep];\n\n            state.currentValue = state.currentValue === undefined ||  state.currentValue === null ? '' : state.currentValue;\n            if (step.required && (state.currentValue.length < 1) && ['input', 'single-choice'].includes(step.type)) {\n                return {...state, currentStep: state.currentStep, error: 'This field is required'};\n            }\n\n            console.log(step.required, step.type === 'multiple-choice', state.currentValue, state.currentValue.length);\n            if (step.required && step.type === 'multiple-choice' && (state.currentValue === null || state.currentValue.length === 0)) {\n                return {...state, currentStep: state.currentStep, error: 'This field is required'};\n            }\n\n            if (step.required && step.type === 'numeric' && state.currentValue === 0) {\n                return {...state, currentStep: state.currentStep, error: 'This field is required'};\n            }\n\n\n            state.answers[state.currentStep] = state.currentValue;\n            state.currentValue = null;\n            state = {...state, currentStep: state.currentStep + 1, error: ''};\n            saveState('form', window.userId, state);\n            return state;\n        case \"previousStep\":\n                if (state.currentStep === 0) {\n                    return state;\n                }\n                let stepNumber = state.currentStep - 1;\n\n                return {...state, currentStep: stepNumber, currentValue: state.answers[stepNumber], error: ''};\n        break;\n        case 'changeCurrentValue':\n                state =  {...state, currentValue: action.currentValue};\n                return state;\n        break;\n        case 'submitSingleChoice':\n            state.answers[state.currentStep] = action.variant.value;\n            console.log(state);\n            state =  {\n                ...state,\n                currentStep: state.currentStep + 1,\n                error: '',\n            };\n\n            saveState('form', window.userId, state);\n            return state;\n        break;\n        default:\n        // If this reducer doesn't recognize the action type, or doesn't\n        // care about this specific action, return the existing state unchanged\n        return state\n    }\n  }\n","export function getRemoteState(type, userId)\n{\n  return fetch(window.host + '/launch-api/internal/api/state-store/'+ userId + '/'+type , {\n    credentials: 'include',\n    method: 'GET',                                                              \n    'mode': 'cors',\n    redirect: 'follow',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'Authorization':  window.token,\n    }\n    }).then(response => response.json())\n};\n\nexport default getRemoteState;","import React from 'react'\nimport Questions from '../containers/Questions';\nimport reducer from '../reducers/reducer';\nimport { createStore } from 'redux';\nimport getRemoteState from '../middleware/getRemoteState';\n\n\n\nclass App extends React.Component {\n    initialState = {};\n\n    constructor(props)\n    {\n        super(props);\n        this.state = createStore(reducer);\n        this.state.subscribe(() => {\n            this.forceUpdate();\n        });\n\n        getRemoteState('form', window.userId).then(\n            response => {\n                if (typeof response.data === 'undefined') {\n                    this.state.dispatch({type: 'ready'});\n                    this.forceUpdate();\n                    return ;\n                }\n\n                this.state.dispatch({type: 'reload', 'state': response.data.attributes.state})\n                this.forceUpdate();\n            }\n        );\n\n    }\n\n    render() {\n        if (!this.state.getState().isLoaded) {\n            return             <div className=\"wait-spinner\">\n            <div className=\"lds-roller\">\n              <div></div>\n              <div></div>\n              <div></div>\n              <div></div>\n              <div></div>\n              <div></div>\n              <div></div>\n              <div></div>\n            </div>\n          </div>\n;\n        }\n\n\n        return (\n            <div>\n                <Questions state={this.state} parent={this}/>\n          </div>        \n        );\n    }\n}\n\n\nexport default App\n","import React from 'react'\nimport { render } from 'react-dom'\nimport App from './components/App'\n\nif (!window.api) {\n  window.api = 'http://localhost:904/api/v1/';\n}\n\nrender(\n  <App />,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}